{% extends 'layout.html' %}

{% block title %}
    Scores: {{ division_name|default:"All Divisions" }} 
{% endblock %}

{% block content %}
    <div class="center">
        <h1 class='title-text' style='text-transform: uppercase;'>{{ division_name }} Scores</h1>
        <div class="outer-2" id='division-links'>
            <ul class="division-nav">
                {% for div in all_divisions|dictsort:'name' %} 
                    <li><a href="{% url 'scores:view_scores' division_name=div.name %}">{{ div.name }}</a></li>
                {% endfor %}
                {% if request.user.is_superuser  %}
                <li><a href="{% url 'tournaments:tournament_view' tournament_name='EDPL Test Cup Game' %}">EDPL Test Cup Game</a></li>
                {% endif %}
            </ul>
        </div>
        {% for team in teams %}
            {% if request.user.is_superuser %}
                <div class="add-score">
                    <a href="{% url 'scores:create_score' division_name=division_name %}">Add Score</a>
                </div>
            {% endif %}
        {% endfor %}
        <div class="outer-2" id="scores-container">
            <h1>{{ division_name|default:"All Divisions" }} Scores</h1> 
            <table class="fixture-table">
                <thead class="fixture-head">
                    <tr class="fixture-row">
                        <th>Date</th>
                        <th>Home Team</th>
                        <th>Home Score</th>
                        <th>(9)</th>
                        <th>Away Score</th>
                        <th>Away Team</th>
                        <th>Details</th> 
                    </tr>
                </thead>
                <tbody>
                    {% for match in matches %}
                        <tr>
                            <td>{{ match.date }}</td>
                            <td><a href="{% url 'teams:detail' team_name=match.home_team.name %}">{{ match.home_team }}</a></td> 
                            <td class='home-score'>{{ match.home_score }}</td>
                            <td>V</td>
                            <td class="away-score">{{ match.away_score }}</td>
                            <td><a href="{% url 'teams:detail' team_name=match.away_team.name %}">{{ match.away_team }}</a></td>
                            <td><a href="{% url 'scores:match_details' division_name=match.division.name match_id=match.id %}">VIEW</a></td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}